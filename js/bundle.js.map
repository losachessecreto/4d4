{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/Common.ts","js/Mural.ts"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"jquery.d.ts\" />\n\nexport class Common {\n\n\tstatic serverUrl: string = 'http://52.42.83.5';\t\n\n\tstatic makeAPICall = (data: any, moduleUrl: string, method: string, successCallback: any, successParams: any, errorCallback: any, errorParams: any) => {\n\t\n\t\t$.ajax({\n      \t\turl: Common.serverUrl + '/' + moduleUrl,      \t\t\n      \t\ttype: method,\n      \t\tdata: data,     \n\t        dataType: 'json'\n      \t}).done( function (data, status) {\n      \t\t\n\t   \t\tsuccessCallback(data, successParams);\n\t\t\t\n\t\t}).fail( function (data, status) {\n     \t\t//do whatever you want with the return data upon successful return\n     \t\tdebugger;\n      \t\terrorCallback(data, errorParams);\n\t\t })\n\n\t};\n}","/// <reference path=\"jquery.d.ts\" />\n/// <reference path=\"alertify.d.ts\" />\n/// <reference path=\"knockout.d.ts\" />\nimport { Common } from './Common';\nimport { Publicacion } from './ModelosMural';\n\nexport class MuralBusiness {\n\t\n\tpublic feedPosts: KnockoutObservableArray<Publicacion>;\n\t\n\tconstructor () {\t\t\n\t\tthis.feedPosts = ko.observableArray([]);\n\t}\n\t    \n\tpublic SubmitPost = (comentario: string) => {\t\n\t\n\t\tif(!comentario || comentario == ''){\n\t\t\t\n\t\t\talertify.error('Escribe una propuesta que no esté vacía.');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tvar post : Publicacion = {\n\t\t\tContenido: comentario,\n\t\t\tIndice: -1,\n\t\t\tPublicador: null,\n\t\t\tRol: null,\n\t\t\tEsPost: true,\n\t\t\tTitulo: '',\n\t\t\tActividades: null,\n\t\t\tResultados: null,\n\t\t\tPrioridad: null\n\t\t};\n\t\t\n\t\tCommon.makeAPICall(post, 'publicaciones/nueva', 'POST', this.SubmitPostSuccess, null, this.SubmitPostError, null);\t\n\t}\n\t\n\t//TODO: Implement datetime filter, to prevent retrieving posts older than the latest visible post\n\tpublic GetLatestPosts = (initialLoad: boolean) => {\n\t\n\t\tCommon.makeAPICall(null, 'mural', 'GET', this.PopulatePostsTable, initialLoad, this.GetFeedError, null);\t\n\t\t    \t\n\t}\n\t\n\t//prototype is still experimental\n\tprivate PopulatePostsTable = (recentPosts: Array<any>, initialLoad: boolean) => {\n\t\t\n\t\t$.each(recentPosts, (recentPostIndex: number, recentPost: any) => {\n\n\t\t\tvar publicacionFound: boolean = false;\n\t\t\tthis.feedPosts().forEach((feedPost) => {\n\t\t\t\n\t\t\t\tif((!!recentPost.post && recentPost.post.post_id == feedPost.Indice && feedPost.EsPost)\n\t\t\t\t\t|| (!!recentPost.action && recentPost.action.action_id == feedPost.Indice && !feedPost.EsPost)\n\t\t\t\t\t) {\n\t\t\t\t\tpublicacionFound = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(!publicacionFound) {\n\t\t\t\tvar esPost = !!recentPost.post;\n\t\t\t\tvar newPublicacion : Publicacion = \n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t \t\tContenido: esPost ? recentPost.post.content : recentPost.action.description, \n\t\t\t\t\t\t\t\t \t\tTitulo: esPost ? null : recentPost.action.title,\n\t\t\t\t\t\t\t\t \t\tIndice: esPost ? recentPost.post.post_id : recentPost.action.action_id,\n\t\t\t\t\t\t\t\t \t\tPublicador: esPost ? recentPost.post.poster_name : recentPost.action.poster_name,\n\t\t\t\t\t\t\t\t\t\tRol: esPost ? recentPost.post.poster_role : recentPost.action.poster_role,\n\t\t\t\t\t\t\t\t\t\tEsPost: esPost,\n\t\t\t\t\t\t\t\t\t\tActividades: esPost? null : recentPost.action.tasks,\n\t\t\t\t\t\t\t\t\t\tResultados: esPost ? null : recentPost.action.results,\n\t\t\t\t\t\t\t\t\t\tPrioridad: esPost ? recentPost.post.category : recentPost.action.category\n\t\t\t\t\t\t\t\t \t};\n\t\t\t\t\t\t\t\t \t\t\n\t\t\t\tif(!!initialLoad) {\n\t\t\t\t\tthis.feedPosts.push(newPublicacion);\t\t\t\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t\n\t\t\t\t\tthis.feedPosts.unshift(newPublicacion);\t\n\t\t\t\t}\t\t\t\t \t\n\t\t\t}\t\t\t\t\t\t\n\t\t});\n\t}\n\t\n\tprivate SubmitPostSuccess = (data) => {\t\t\n\t\talertify.success('Tu publicacion fue generada');\n\t\tthis.GetLatestPosts(false);\n\t}\t\n\t\n\tprivate SubmitPostError = (data) => {\t\t\n\t\t\n\t\talertify.error('Hubo un error al publicar tu propuesta.');\n\t}\n\t\n\tprivate GetFeedError = (data) => {\t\t\n\t\t\n\t\talertify.error('Hubo un error al intentar leer tu mural.');\n\t}\n}\n\n$(document).ready(function() {\n\t\n\tvar mural = new MuralBusiness();\t\n\tmural.GetLatestPosts(true);\n\t$('#btnProponer').click(function() {    \t \t    \t\n     \t\tvar txtPropuesta = $('#txtPropuesta').val();                  \t\t\n         \t\n    \t\tmural.SubmitPost(txtPropuesta);\n    \t\t$('#txtPropuesta').val('');\n    });\n    \n    ko.applyBindings(mural);\n});"]}